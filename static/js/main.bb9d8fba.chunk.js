(this["webpackJsonptezos-secrets"]=this["webpackJsonptezos-secrets"]||[]).push([[0],{166:function(e,t){},229:function(e,t,n){},230:function(e,t,n){},236:function(e,t){},238:function(e,t){},300:function(e,t){},302:function(e,t){},312:function(e,t){},314:function(e,t){},346:function(e,t){},348:function(e,t){},349:function(e,t){},354:function(e,t){},356:function(e,t){},375:function(e,t){},387:function(e,t){},390:function(e,t){},424:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(25),r=n.n(s),o=(n(229),n(8)),i=n(34),l=n(0),d=n(33),b=n(23),j=(n(230),n(56)),u=n(214),x=n(21),p=n(457),h=n(47),f=n.n(h),O=n(456),m=n.p+"static/media/Infinity.42a85c88.svg",k=n(6);var g=function(e){var t=e.address,n=e.createBox,s=c.a.useState([]),r=Object(b.a)(s,2),j=r[0],u=r[1],x=c.a.useState([]),h=Object(b.a)(x,2),g=h[0],v=h[1],y=c.a.useState(""),w=Object(b.a)(y,2),T=w[0],C=w[1],z=c.a.useState(!1),A=Object(b.a)(z,2),S=A[0],H=A[1];return Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(Object(l.a)().mark((function e(){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://api.ghostnet.tzkt.io/v1/tokens/balances?account=".concat(t,"&&balance.ne=0"));case 2:n=e.sent,console.log(n),console.log(n.data),n.data&&v(n.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log(t),function(){e.apply(this,arguments)}()}),[t]),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{style:{border:"5px solid green",padding:3},children:[Object(k.jsx)("div",{style:{textAlign:"center"},children:"select tokens you want to sell and fill the box"}),Object(k.jsx)("div",{style:{display:"flex",overflowY:"auto",paddingBlock:10,margin:10},children:j&&j.map((function(e,t){return e.balance>0&&Object(k.jsx)(p.a,{style:{border:"2px solid black",minWidth:"17.4vw",maxWidth:"17.4vw",maxHeight:"17.4vw"},onClick:function(){for(var n=!1,a=0;a<g.length;a++)g[a].token.contract.address===e.token.contract.address&&g[a].token.tokenId===e.token.tokenId&&(v([].concat(Object(o.a)(g.slice(0,a)),[Object(i.a)(Object(i.a)({},e),{},{balance:g[a].balance+1})],Object(o.a)(g.slice(a+1)))),n=!0);n||v(g.concat([Object(i.a)(Object(i.a)({},e),{},{balance:1})])),u([].concat(Object(o.a)(j.slice(0,t)),[Object(i.a)(Object(i.a)({},e),{},{balance:e.balance-1})],Object(o.a)(j.slice(t+1))))},children:Object(k.jsxs)("div",{children:[e.token.metadata.displayUri&&Object(k.jsx)("img",{style:{width:"90%",maxHeight:"15.5vw"},alt:e.token.metadata.name,src:e.token.metadata.displayUri.replace("ipfs://","https://ipfs.io/ipfs/")}),Object(k.jsxs)("div",{style:{textAlign:"center"},children:[e.token&&e.token.metadata&&e.token.metadata.name.length>30?e.token.metadata.name.slice(4,27)+"...":e.token.metadata.name,"(",e.balance,")"]})]})},e.id)}))}),Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(k.jsx)(O.a,{label:"Enter price",variant:"outlined",value:T,onChange:function(e){C(e.target.value)}}),Object(k.jsx)(p.a,{style:{border:"1px solid black",margin:5},onClick:Object(d.a)(Object(l.a)().mark((function e(){var t,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),console.log("price"),console.log(T),console.log("mutez"),t=1e6*parseFloat(T),console.log(t),a=[],j.forEach((function(e){a.push({cAddress:e.token.contract.address,tokenId:e.token.tokenId,amount:e.balance})})),console.log(a),e.next=11,n(t,a);case 11:u([]),C(""),H(!1);case 14:case"end":return e.stop()}}),e)}))),children:S?Object(k.jsx)("img",{alt:"loading",src:m,style:{height:24.5}}):"create box"})]})]}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{style:{border:"3px solid darkblue"},children:g&&g.map((function(e,t){return e.balance>0&&Object(k.jsx)(p.a,{style:{border:"2px solid black",width:"17.4vw",height:"17.4vw"},onClick:function(){for(var n=!1,a=0;a<j.length;a++)j[a].token.contract.address===e.token.contract.address&&j[a].token.tokenId===e.token.tokenId&&(u([].concat(Object(o.a)(j.slice(0,a)),[Object(i.a)(Object(i.a)({},e),{},{balance:j[a].balance+1})],Object(o.a)(j.slice(a+1)))),n=!0);n||u(j.concat([Object(i.a)(Object(i.a)({},e),{},{balance:1})])),v([].concat(Object(o.a)(g.slice(0,t)),[Object(i.a)(Object(i.a)({},e),{},{balance:e.balance-1})],Object(o.a)(g.slice(t+1))))},children:Object(k.jsxs)("div",{children:[e.token&&e.token.metadata&&e.token.metadata.displayUri&&Object(k.jsx)("img",{alt:e.token.metadata.name,style:{width:"90%",maxHeight:"15.5vw"},src:e.token.metadata.displayUri.replace("ipfs://","https://ipfs.io/ipfs/")}),Object(k.jsxs)("div",{style:{textAlign:"center"},children:[e.token&&e.token.metadata&&(e.token.metadata.name.length>30?e.token.metadata.name.slice(4,27)+"...":e.token.metadata.name),"(",e.balance,")"]})]})},e.id)}))})]})},v=n(79),y=n.n(v),w=new j.b("https://rpc.ghostnet.teztnets.xyz"),T=new u.a({name:"Tezos Secrets",preferredNetwork:x.o.CUSTOM}),C="KT1Tmo6GTcPztKxGxCRP6ptdHVjgH6kL1pTj";w.setWalletProvider(T);var z=function(){var e=Object(a.useState)(),t=Object(b.a)(e,2),n=t[0],s=t[1],r=c.a.useState([]),u=Object(b.a)(r,2),h=u[0],O=u[1],z=c.a.useState(0),A=Object(b.a)(z,2),S=A[0],H=A[1],U=c.a.useState(!1),I=Object(b.a)(U,2),P=I[0],B=I[1];function W(){return N.apply(this,arguments)}function N(){return(N=Object(d.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.client.requestPermissions({network:{type:x.o.CUSTOM,name:"Ghostnet",rpcUrl:"https://rpc.ghostnet.teztnets.xyz"}});case 3:return t=e.sent,console.log("Got permissions:",t.address),e.t0=s,e.next=8,T.client.getActiveAccount();case 8:e.t1=e.sent,(0,e.t0)(e.t1),e.next=15;break;case 12:e.prev=12,e.t2=e.catch(0),console.log("Got error:",e.t2);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function R(){return E.apply(this,arguments)}function E(){return(E=Object(d.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.clearActiveAccount();case 2:return e.t0=s,e.next=5,T.client.getActiveAccount();case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}e.next=9;break;case 3:return console.log(" trying to get active acc"),e.t0=s,e.next=7,T.client.getActiveAccount();case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(a.useEffect)((function(){function e(){return e=Object(d.a)(Object(l.a)().mark((function e(){var t,n,a,c,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://api.ghostnet.tzkt.io/v1/contracts/".concat(C,"/bigmaps/boxes/keys"));case 2:t=e.sent,n=t.data.reverse(),console.log(n),a=0;case 6:if(!(a<t.data.length)){e.next=20;break}c=0;case 8:if(!(c<t.data[a].value.tokens.length)){e.next=17;break}return e.next=11,f.a.get("https://api.ghostnet.tzkt.io/v1/tokens?contract=".concat(t.data[a].value.tokens[c].cAddress,"&&tokenId=").concat(t.data[a].value.tokens[c].tokenId));case 11:s=e.sent,console.log(s.data[0].metadata),n[a].value.tokens[c].metadata=s.data[0].metadata;case 14:c++,e.next=8;break;case 17:a++,e.next=6;break;case 20:console.log(n),O(n);case 22:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://api.ghostnet.tzkt.io/v1/tokens/balances?account=tz1TCyS6Gp2JQo1XoSU2WMjqyjMz6iRdn8fD&&balance.ne=0");case 2:t=e.sent,console.log(t),console.log(t.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var G=function(){var e=Object(d.a)(Object(l.a)().mark((function e(t,a){var c,s,r,o,d,b,u,x,p,h;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.wallet.at(C);case 2:c=e.sent,console.log(t),console.log(a),s=[],r=0;case 7:if(!(r<a.length)){e.next=15;break}return e.next=10,w.wallet.at(a[r].cAddress);case 10:o=e.sent,s.push(Object(i.a)({kind:j.a.TRANSACTION},o.methods.update_operators([{add_operator:{operator:C,token_id:a[r].tokenId,owner:n.address}}]).toTransferParams({amount:0,mutez:!0,storageLimit:175})));case 12:r++,e.next=7;break;case 15:s.push(Object(i.a)({kind:j.a.TRANSACTION},c.methods.createBox(t,a).toTransferParams({amount:0,mutez:!0}))),d=0;case 17:if(!(d<a.length)){e.next=25;break}return e.next=20,w.wallet.at(a[d].cAddress);case 20:b=e.sent,s.push(Object(i.a)({kind:j.a.TRANSACTION},b.methods.update_operators([{remove_operator:{operator:C,token_id:a[d].tokenId,owner:n.address}}]).toTransferParams({amount:0,mutez:!0,storageLimit:175})));case 22:d++,e.next=17;break;case 25:return console.log(s),e.prev=26,e.next=29,w.wallet.batch(s);case 29:return u=e.sent,e.next=32,u.send({mutez:!0,amount:t});case 32:return x=e.sent,e.next=35,x.confirmation();case 35:return p=e.sent,e.next=38,c.storage();case 38:h=e.sent,console.log(p),console.log(h),y()("New box successfully created !"),e.next=48;break;case 44:e.prev=44,e.t0=e.catch(26),console.log(e.t0),y()("something unexpected happened, more details in console");case 48:case"end":return e.stop()}}),e,null,[[26,44]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{children:[Object(k.jsx)(v.Toaster,{}),Object(k.jsxs)("div",{style:{display:"flex"},children:[Object(k.jsx)(p.a,{style:{border:"3px solid black",margin:5},fullWidth:!0,onClick:Object(d.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H(0);case 1:case"end":return e.stop()}}),e)}))),children:"EXPLORE"}),Object(k.jsx)(p.a,{style:{border:"3px solid black",margin:5},fullWidth:!0,onClick:Object(d.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H(1);case 1:case"end":return e.stop()}}),e)}))),children:"Create Box"}),Object(k.jsx)(p.a,{style:{border:"3px solid black",margin:5},fullWidth:!0,onClick:Object(d.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H(2);case 1:case"end":return e.stop()}}),e)}))),children:"ABOUT"}),Object(k.jsx)(p.a,{style:{border:"3px solid black",margin:5},fullWidth:!0,onClick:Object(d.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H(3);case 1:case"end":return e.stop()}}),e)}))),children:"NFT FAUCET"}),Object(k.jsx)(p.a,{style:{border:"3px solid black",margin:5},fullWidth:!0,onClick:function(){window.open("https://github.com/99ff01/BoXTZ","_blank","noopener,noreferrer")},children:"GITHUB"}),Object(k.jsx)(p.a,{style:{border:"3px solid black",margin:5},fullWidth:!0,onClick:Object(d.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n?R():W();case 1:case"end":return e.stop()}}),e)}))),children:n?Object(k.jsxs)("div",{style:{textAlign:"right",width:"100%",padding:5,fontSize:"0.8em"},children:[n.address," unsync"]}):"sync"})]}),Object(k.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(k.jsxs)("div",{style:{width:"70vw",marginTop:20},children:[0===S&&Object(k.jsx)("div",{children:Object(k.jsxs)("div",{children:[Object(k.jsx)("br",{}),h&&h.map((function(e,t){return e.active&&Object(k.jsxs)("div",{style:{border:"4px black solid",marginBlock:10},children:[Object(k.jsx)("div",{style:{textAlign:"center"},children:Object(k.jsxs)("h2",{children:["Box #",e.key]})}),Object(k.jsx)("div",{style:{display:"flex",paddingBlock:10,margin:10,justifyContent:"center"},children:Object(k.jsx)("div",{style:{display:"flex",overflowY:"auto"},children:e.value.tokens&&e.value.tokens.map((function(e,t){return e.amount>0&&Object(k.jsx)(p.a,{style:{border:"2px solid black",minWidth:"17.4vw",maxWidth:"17.4vw",maxHeight:"17.4vw"},children:Object(k.jsxs)("div",{children:[e.metadata.displayUri&&Object(k.jsx)("img",{style:{width:"90%",maxHeight:"15.5vw"},alt:e.metadata.title,src:e.metadata.displayUri.replace("ipfs://","https://ipfs.io/ipfs/")}),Object(k.jsxs)("div",{style:{textAlign:"center"},children:[e.metadata&&e.metadata.name.length>30?e.metadata.name.slice(4,27)+"...":e.metadata.name,"(",e.amount,")"]})]})},e.id)}))})}),Object(k.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(k.jsx)(p.a,{style:{border:"2px solid black"},onClick:Object(d.a)(Object(l.a)().mark((function n(){var a,c,s,r,i;return Object(l.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return B(!0),n.next=3,w.wallet.at(C);case 3:return a=n.sent,n.prev=4,n.next=7,a.methods.openBox(e.key).send({mutez:!0,amount:e.value.price});case 7:return c=n.sent,n.next=10,c.confirmation();case 10:return s=n.sent,n.next=13,a.storage();case 13:r=n.sent,console.log(s),console.log(r),(i=Object(o.a)(h)).splice(t,1),O(i),y()("Successfully opened the box !"),B(!1),n.next=28;break;case 23:n.prev=23,n.t0=n.catch(4),console.log(n.t0),y()("failed to open box, check console for details"),B(!1);case 28:case"end":return n.stop()}}),n,null,[[4,23]])}))),children:P?Object(k.jsx)("img",{alt:"loading",src:m,style:{height:24.5}}):Object(k.jsxs)(k.Fragment,{children:["open for ",e.value.price/1e6," xtz"]})})}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{style:{textAlign:"center"},children:Object(k.jsxs)("b",{children:["seller: ",e.value.owner]})})]},e.key)}))]})}),1===S&&Object(k.jsx)("div",{children:Object(k.jsx)(g,{address:n&&n.address,createBox:G})}),2===S&&Object(k.jsxs)("div",{children:["Collectibles gain more value if they are sold as a set just like pokemon cards. Imagine a box containing all NFT\u2019s your favorite artist released.",Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),"Another use for BoXTZ is that box creators can add their messages as an NFT, which is similar to author pre-signing books or putting souvenirs along with the main order as a gesture.",Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),"Artists can benefit from BoXTZ by making the collecting process easier and faster for collectors.",Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),"Overall BoXTZ aims to provide more options for both artists and collectors for trading their NFTs.",Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("b",{children:"backlog / roadmap:"})," ",Object(k.jsx)("a",{href:"https://whimsical.com/boxtz-GmWSy9iqjh5xhhD5dy8kxn@2Ux7TurymN7CSfRrhrF9",children:" https://whimsical.com/boxtz-GmWSy9iqjh5xhhD5dy8kxn@2Ux7TurymN7CSfRrhrF9"}),Object(k.jsx)("br",{}),Object(k.jsx)("b",{children:"Contract Address:"})," KT1Tmo6GTcPztKxGxCRP6ptdHVjgH6kL1pTj",Object(k.jsx)("br",{}),Object(k.jsx)("a",{href:"https://better-call.dev/ghostnet/KT1Tmo6GTcPztKxGxCRP6ptdHVjgH6kL1pTj/operations",children:"https://better-call.dev/ghostnet/KT1Tmo6GTcPztKxGxCRP6ptdHVjgH6kL1pTj/operations"}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("h2",{children:"How to Use"}),Object(k.jsx)("br",{}),"install temple wallet",Object(k.jsx)("br",{}),"get testnet tezos ",Object(k.jsx)("a",{href:" https://faucet.ghostnet.teztnets.xyz/",children:" https://faucet.ghostnet.teztnets.xyz/"}),Object(k.jsx)("br",{}),'mint testnet nfts from top "NFT FAUCET" tab',Object(k.jsx)("br",{}),'now ready to create a Box ! with "CREATE BOX tab"',Object(k.jsx)("br",{}),"select nfts you want to sell andd enter the price you want then create !",Object(k.jsx)("br",{}),"use explore tab to open boxes !"]}),3===S&&Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(k.jsx)(p.a,{style:{border:"2px solid black"},onClick:Object(d.a)(Object(l.a)().mark((function e(){var t,a,c,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.wallet.at("KT1Pn5P6oiVBsZS2xZcq9aLr9wbymhw7WHtz");case 2:return t=e.sent,e.prev=3,e.next=6,t.methods.mint_ZONK(n.address,10,"697066733a2f2f516d4e54336951464479377a4c71747a4a6a383668743574546639535879316d3833466f577357795932666a7937",100).send({mutez:!0,amount:0});case 6:return a=e.sent,e.next=9,a.confirmation();case 9:return c=e.sent,e.next=12,t.storage();case 12:s=e.sent,console.log(c),console.log(s),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[3,17]])}))),children:Object(k.jsxs)("div",{children:[Object(k.jsx)("img",{src:"https://ipfs.io/ipfs/QmQ3mdCLzoQ1pVEFD1RvyvisDcPWj5CStzrFNAHmUs2c6E",alt:"LUZI HAIKU",style:{width:"20vw"}}),Object(k.jsx)("br",{}),"mint LUZI HAIKU x 10"]})}),Object(k.jsx)(p.a,{style:{border:"2px solid black"},onClick:Object(d.a)(Object(l.a)().mark((function e(){var t,a,c,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.wallet.at("KT1Pn5P6oiVBsZS2xZcq9aLr9wbymhw7WHtz");case 2:return t=e.sent,e.prev=3,e.next=6,t.methods.mint_ZONK(n.address,10,"697066733a2f2f516d4e54336951464479377a4c71747a4a6a383668743574546639535879316d3833466f577357795932666a7937",100).send({mutez:!0,amount:0});case 6:return a=e.sent,e.next=9,a.confirmation();case 9:return c=e.sent,e.next=12,t.storage();case 12:s=e.sent,console.log(c),console.log(s),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[3,17]])}))),children:Object(k.jsxs)("div",{children:[Object(k.jsx)("img",{src:"https://ipfs.io/ipfs/QmdhMjXu7Q7AHguiwPDyqhwPWvsRWVtYVFCK5WwqRrRLer",alt:"Doll House",style:{width:"20vw"}}),Object(k.jsx)("br",{}),"mint Doll House x 10"]})})]})]})})]})};r.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(z,{})}),document.getElementById("root"))}},[[424,1,2]]]);
//# sourceMappingURL=main.bb9d8fba.chunk.js.map